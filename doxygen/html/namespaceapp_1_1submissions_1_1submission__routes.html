<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Field Mapping Tasking Manager: app.submissions.submission_routes Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Field Mapping Tasking Manager
   </div>
   <div id="projectbrief">Organize field mapping with ODK and OpenStreetMap</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceapp.html">app</a></li><li class="navelem"><a class="el" href="namespaceapp_1_1submissions.html">submissions</a></li><li class="navelem"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html">submission_routes</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">app.submissions.submission_routes Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a88662a0d05169d03409770dfc86b013b" id="r_a88662a0d05169d03409770dfc86b013b"><td class="memItemLeft" align="right" valign="top">list[dict]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a88662a0d05169d03409770dfc86b013b">read_submissions</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user)</td></tr>
<tr class="separator:a88662a0d05169d03409770dfc86b013b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2df9615171c4514cb8b78b7a0ed3fbb" id="r_ab2df9615171c4514cb8b78b7a0ed3fbb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#ab2df9615171c4514cb8b78b7a0ed3fbb">create_submission</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user, Annotated[str, Body(embed=True)] submission_xml, Annotated[Optional[str], Body(embed=True)] device_id=None, Annotated[Optional[dict[str, BytesIO]], Depends(<a class="el" href="namespaceapp_1_1submissions_1_1submission__deps.html#af78bf67370374bf3abcc5592787e7ed7">submission_deps.read_submission_uploads</a>)] submission_attachments=None)</td></tr>
<tr class="separator:ab2df9615171c4514cb8b78b7a0ed3fbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6491a639ad85850ef23b5e6fd4bba65" id="r_ab6491a639ad85850ef23b5e6fd4bba65"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#ab6491a639ad85850ef23b5e6fd4bba65">download_submission</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_contributors)] project_user, <a class="el" href="classapp_1_1db_1_1enums_1_1SubmissionDownloadType.html">SubmissionDownloadType</a> file_type, Optional[str] submitted_date_range=Query(None, title=&quot;Submitted Date Range&quot;, description=&quot;Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')&quot;,))</td></tr>
<tr class="separator:ab6491a639ad85850ef23b5e6fd4bba65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b49be3dce6e775374b0c27f8de8f201" id="r_a8b49be3dce6e775374b0c27f8de8f201"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a8b49be3dce6e775374b0c27f8de8f201">get_submission_count</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user)</td></tr>
<tr class="separator:a8b49be3dce6e775374b0c27f8de8f201"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec2bcd35941ebedd5c829513082e42d" id="r_aeec2bcd35941ebedd5c829513082e42d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#aeec2bcd35941ebedd5c829513082e42d">get_submission_form_fields</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user)</td></tr>
<tr class="separator:aeec2bcd35941ebedd5c829513082e42d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b85ea22de9c4a26149e1345f9190b7f" id="r_a1b85ea22de9c4a26149e1345f9190b7f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a1b85ea22de9c4a26149e1345f9190b7f">submission_table</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user, int page=Query(1, ge=1), int results_per_page=Query(13, le=100), Optional[int] task_id=None, Optional[str] submitted_by=None, Optional[str] review_state=None, Optional[str] submitted_date_range=Query(None, title=&quot;Submitted Date Range&quot;, description=&quot;Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')&quot;,))</td></tr>
<tr class="separator:a1b85ea22de9c4a26149e1345f9190b7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d2e96997d609f4df7186ebdd34fd659" id="r_a4d2e96997d609f4df7186ebdd34fd659"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a4d2e96997d609f4df7186ebdd34fd659">update_review_state</a> (<a class="el" href="classapp_1_1submissions_1_1submission__schemas_1_1ReviewStateIn.html">submission_schemas.ReviewStateIn</a> post_data, Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_manager)] current_user)</td></tr>
<tr class="separator:a4d2e96997d609f4df7186ebdd34fd659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1cf32083d24d350d4faa11d20bc11da" id="r_ab1cf32083d24d350d4faa11d20bc11da"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#ab1cf32083d24d350d4faa11d20bc11da">download_submission_geojson</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_contributors)] project_user, Optional[str] submitted_date_range=Query(None, title=&quot;Submitted Date Range&quot;, description=&quot;Date range in format (e.g., 'YYYY-MM-DD,YYYY-MM-DD')&quot;,))</td></tr>
<tr class="separator:ab1cf32083d24d350d4faa11d20bc11da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05dd7c460264d0021f367371d58b683" id="r_aa05dd7c460264d0021f367371d58b683"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#aa05dd7c460264d0021f367371d58b683">conflate_geojson</a> (Annotated[<a class="el" href="classapp_1_1db_1_1models_1_1DbTask.html">DbTask</a>, Depends(get_task)] db_task, Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user, Annotated[bool, Query(description=&quot;Removes geometries not overlapping with OSM data&quot;,),] remove_conflated=False)</td></tr>
<tr class="separator:aa05dd7c460264d0021f367371d58b683"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afd1a509f2e5ab422760acefeb438b771" id="r_afd1a509f2e5ab422760acefeb438b771"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#afd1a509f2e5ab422760acefeb438b771">submission_photos</a> (str submission_id, Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user)</td></tr>
<tr class="separator:afd1a509f2e5ab422760acefeb438b771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a587e24cd8eef506197b228c8e74e9a" id="r_a3a587e24cd8eef506197b228c8e74e9a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a3a587e24cd8eef506197b228c8e74e9a">project_submission_dashboard</a> (Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user, Annotated[Connection, Depends(db_conn)] db)</td></tr>
<tr class="separator:a3a587e24cd8eef506197b228c8e74e9a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8fbbe7e9362a050e1b9b7391069e40f" id="r_ac8fbbe7e9362a050e1b9b7391069e40f"><td class="memItemLeft" align="right" valign="top">dict&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#ac8fbbe7e9362a050e1b9b7391069e40f">submission_detail</a> (str submission_id, Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)] project_user)</td></tr>
<tr class="separator:ac8fbbe7e9362a050e1b9b7391069e40f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a83b9ce3a14b38560cbfa3df836b835c2" id="r_a83b9ce3a14b38560cbfa3df836b835c2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceapp_1_1submissions_1_1submission__routes.html#a83b9ce3a14b38560cbfa3df836b835c2">router</a></td></tr>
<tr class="separator:a83b9ce3a14b38560cbfa3df836b835c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Routes associated with data submission to and from ODK Central.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="aa05dd7c460264d0021f367371d58b683" name="aa05dd7c460264d0021f367371d58b683"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05dd7c460264d0021f367371d58b683">&#9670;&#160;</a></span>conflate_geojson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.conflate_geojson </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1db_1_1models_1_1DbTask.html">DbTask</a>, Depends(get_task)]&#160;</td>
          <td class="paramname"><em>db_task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[
        bool,
        Query(
            description=&quot;Removes geometries not overlapping with OSM data&quot;,
        ),
    ] &#160;</td>
          <td class="paramname"><em>remove_conflated</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Conflates the input GeoJSON with OpenStreetMap data.

Returns:
    str: Updated GeoJSON string with conflated features.
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00438">438</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="ab2df9615171c4514cb8b78b7a0ed3fbb" name="ab2df9615171c4514cb8b78b7a0ed3fbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2df9615171c4514cb8b78b7a0ed3fbb">&#9670;&#160;</a></span>create_submission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.create_submission </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[str, Body(embed=True)]&#160;</td>
          <td class="paramname"><em>submission_xml</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[Optional[str], Body(embed=True)] &#160;</td>
          <td class="paramname"><em>device_id</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[
        Optional[dict[str, BytesIO]], Depends(<a class="el" href="namespaceapp_1_1submissions_1_1submission__deps.html#af78bf67370374bf3abcc5592787e7ed7">submission_deps.read_submission_uploads</a>)
    ] &#160;</td>
          <td class="paramname"><em>submission_attachments</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Create a new submission via ODK Central REST endpoint.

Typically it would be best to use the OpenRosa submission endpoint,
as used by ODK Collect.

However, for now ODK Web Forms do not have direct ODK Central access
configured. Meaning we must handle getting forms and submitting new
data to ODK Central within FMTM.

This endpoint helps to facilitate, by allowing submission, alongside
any form attachments, via the ODK Central REST API (via pyodk),
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00063">63</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="ab6491a639ad85850ef23b5e6fd4bba65" name="ab6491a639ad85850ef23b5e6fd4bba65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab6491a639ad85850ef23b5e6fd4bba65">&#9670;&#160;</a></span>download_submission()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.download_submission </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_contributors)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classapp_1_1db_1_1enums_1_1SubmissionDownloadType.html">SubmissionDownloadType</a>&#160;</td>
          <td class="paramname"><em>file_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>submitted_date_range</em> = <code>Query(
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;None,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;title=&quot;Submitted&#160;Date&#160;Range&quot;,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;description=&quot;Date&#160;range&#160;in&#160;format&#160;(e.g.,&#160;'YYYY-MM-DD,YYYY-MM-DD')&quot;,
&#160;&#160;&#160;&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Download the submissions for a given project.

Returns a JSON, CSV, or GeoJSON file.
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00096">96</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="ab1cf32083d24d350d4faa11d20bc11da" name="ab1cf32083d24d350d4faa11d20bc11da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1cf32083d24d350d4faa11d20bc11da">&#9670;&#160;</a></span>download_submission_geojson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.download_submission_geojson </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_contributors)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>submitted_date_range</em> = <code>Query(
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;None,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;title=&quot;Submitted&#160;Date&#160;Range&quot;,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;description=&quot;Date&#160;range&#160;in&#160;format&#160;(e.g.,&#160;'YYYY-MM-DD,YYYY-MM-DD')&quot;,
&#160;&#160;&#160;&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Download submission geojson for a specific project.</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00403">403</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="a8b49be3dce6e775374b0c27f8de8f201" name="a8b49be3dce6e775374b0c27f8de8f201"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b49be3dce6e775374b0c27f8de8f201">&#9670;&#160;</a></span>get_submission_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.get_submission_count </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the submission count for a project.</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00173">173</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="aeec2bcd35941ebedd5c829513082e42d" name="aeec2bcd35941ebedd5c829513082e42d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeec2bcd35941ebedd5c829513082e42d">&#9670;&#160;</a></span>get_submission_form_fields()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.get_submission_form_fields </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Retrieves the submission form for a specific project.

Returns:
    Any: The response from the submission form API.
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00284">284</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="a3a587e24cd8eef506197b228c8e74e9a" name="a3a587e24cd8eef506197b228c8e74e9a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a587e24cd8eef506197b228c8e74e9a">&#9670;&#160;</a></span>project_submission_dashboard()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.project_submission_dashboard </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[Connection, Depends(db_conn)]&#160;</td>
          <td class="paramname"><em>db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get the project dashboard details.</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00524">524</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="a88662a0d05169d03409770dfc86b013b" name="a88662a0d05169d03409770dfc86b013b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88662a0d05169d03409770dfc86b013b">&#9670;&#160;</a></span>read_submissions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> list[dict] app.submissions.submission_routes.read_submissions </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Get all submissions made for a project.

Returns:
    list[dict]: The list of submissions.
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00049">49</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="ac8fbbe7e9362a050e1b9b7391069e40f" name="ac8fbbe7e9362a050e1b9b7391069e40f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8fbbe7e9362a050e1b9b7391069e40f">&#9670;&#160;</a></span>submission_detail()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict app.submissions.submission_routes.submission_detail </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>submission_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This api returns the submission detail of individual submission.</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00540">540</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="afd1a509f2e5ab422760acefeb438b771" name="afd1a509f2e5ab422760acefeb438b771"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afd1a509f2e5ab422760acefeb438b771">&#9670;&#160;</a></span>submission_photos()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> dict app.submissions.submission_routes.submission_photos </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>submission_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This api returns the submission detail of individual submission.

NOTE Prerequisites:

1) The ODK server must have the S3_ENDPOINT param set to enable
   S3 media uploads.

   If it's not set, then these URLs will be direct downloads from ODK
   (requiring auth).

   If the S3 is configured, then these URLs should be pre-signed download
   links to S3.

2) The media is uploaded to S3 by using `node lib/bin/s3.js upload-pending`
   in the Central container (this is triggered automatically every 24hrs).
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00492">492</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="a1b85ea22de9c4a26149e1345f9190b7f" name="a1b85ea22de9c4a26149e1345f9190b7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b85ea22de9c4a26149e1345f9190b7f">&#9670;&#160;</a></span>submission_table()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.submission_table </td>
          <td>(</td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(mapper)]&#160;</td>
          <td class="paramname"><em>project_user</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>page</em> = <code>Query(1,&#160;ge=1)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &#160;</td>
          <td class="paramname"><em>results_per_page</em> = <code>Query(13,&#160;le=100)</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[int] &#160;</td>
          <td class="paramname"><em>task_id</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>submitted_by</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>review_state</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>submitted_date_range</em> = <code>Query(
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;None,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;title=&quot;Submitted&#160;Date&#160;Range&quot;,
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;description=&quot;Date&#160;range&#160;in&#160;format&#160;(e.g.,&#160;'YYYY-MM-DD,YYYY-MM-DD')&quot;,
&#160;&#160;&#160;&#160;)</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This api returns the submission table of a project.

Returns:
    dict: Paginated submissions with `results` and `pagination` keys.
</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00298">298</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<a id="a4d2e96997d609f4df7186ebdd34fd659" name="a4d2e96997d609f4df7186ebdd34fd659"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d2e96997d609f4df7186ebdd34fd659">&#9670;&#160;</a></span>update_review_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.update_review_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classapp_1_1submissions_1_1submission__schemas_1_1ReviewStateIn.html">submission_schemas.ReviewStateIn</a>&#160;</td>
          <td class="paramname"><em>post_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Annotated[<a class="el" href="classapp_1_1auth_1_1auth__schemas_1_1ProjectUserDict.html">ProjectUserDict</a>, Depends(project_manager)]&#160;</td>
          <td class="paramname"><em>current_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Updates the review state of a project submission.</pre> 
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00373">373</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a83b9ce3a14b38560cbfa3df836b835c2" name="a83b9ce3a14b38560cbfa3df836b835c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83b9ce3a14b38560cbfa3df836b835c2">&#9670;&#160;</a></span>router</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">app.submissions.submission_routes.router</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><span class="lineno">    1</span>=  APIRouter(</div>
<div class="line"><span class="lineno">    2</span>    prefix=<span class="stringliteral">&quot;/submission&quot;</span>,</div>
<div class="line"><span class="lineno">    3</span>    tags=[<span class="stringliteral">&quot;submission&quot;</span>],</div>
<div class="line"><span class="lineno">    4</span>    responses={404: {<span class="stringliteral">&quot;description&quot;</span>: <span class="stringliteral">&quot;Not found&quot;</span>}},</div>
<div class="line"><span class="lineno">    5</span>)</div>
</div><!-- fragment -->
<p class="definition">Definition at line <a class="el" href="submission__routes_8py_source.html#l00041">41</a> of file <a class="el" href="submission__routes_8py_source.html">submission_routes.py</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
